{"version":3,"sources":["og-scatter-plot.es6.js"],"names":["Polymer","is","properties","width","type","Number","value","height","data","Array","observer","showTodayLine","Boolean","today","String","todayLabel","historicalLabel","forecastLabel","axisData","Object","__defaultAxisData","legendAlignment","ready","scopeSubtree","$","chart","attached","x","y","axisColor","customStyle","tickColor","updateStyles","draw","d3","Px","me","margin","top","right","bottom","left","parseTime","inputDateFormat","timeParse","scaleTime","range","scaleLinear","clamp","svg","select","append","attr","forEach","d","getTime","i","length","key","yMax","max","reduce","a","b","Math","yMin","start","domain","extent","nice","d3NiceType","niceTicks","yScaledMin","toolTip","tip","offset","html","msg","call","series","_series","idx","selectAll","enter","color","on","prefix","label","show","hide","_xAxis","axisBottom","tickTimeFormat","tickFormat","timeFormat","axisLeft","ticks","text","hideGrid","totalGridLines","tickSize","axisLabel","fire","_redraw","newData","oldData","dom","node","innerHTML","_toggleSeries","event","model","get","querySelectorAll","elt","style","display"],"mappings":"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","file":"og-scatter-plot.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-scatter-plot', \n\n    properties: {\n      /**\n      * Width of the Chart.\n      *\n      * @property width\n      */\n      width: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n      },\n      /**\n      * Height of the Chart.\n      *\n      * @property height\n      */\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n      },\n      /**\n      * Chart Data\n      * Format: [{x: Number, y0: Number, y1: Number .... yn: Number}]\n      * @property data\n      */\n      data: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n      },\n      /**\n       * Show Today Line and subsequently, Historical and Forecast Labels\n       * \n       * @property showTodayLine\n       */\n      showTodayLine: {\n        type: Boolean,\n        value() {\n          return true;\n        }\n      },\n      /**\n       * The X-axis point which should be considered as today\n       * \n       * @property today\n       */\n      today: {\n        type: String\n      },\n      /**\n       * Today Label\n       * \n       * @property todayLabel\n       */\n      todayLabel: {\n        type: String,\n        value: \"Today\"\n      },\n      /**\n       * Historical Label\n       * \n       * @property historicalLabel\n       */\n      historicalLabel: {\n        type: String,\n        value: \"Historical\"\n      },\n      /**\n       * Forecast Label\n       * \n       * @property forecastLabel\n       */\n      forecastLabel: {\n        type: String,\n        value: \"Forecast\"\n      },\n      /**\n       * Forecast Label\n       * \n       * @property axisData\n       */\n      axisData: {\n        type: Object,\n        value() {\n          return this.__defaultAxisData;\n        }\n      },\n      /**\n       * Legend Alignment\n       * Eg: right, left, center\n       * \n       * @property legendAlignment\n       */\n      legendAlignment: {\n        type: String,\n        value: \"right\"\n      },\n      __defaultAxisData: {\n        type: Object,\n        value() {\n          return {\n            \"x\": {\n              \"color\": \"\",\n              \"axisLabel\": \"\",\n              \"legendLabel\": \"\",\n              \"inputDateFormat\": \"\",\n              \"tickFormat\": \"\",\n              \"tickTimeFormat\": \"\",\n              \"hideGrid\": false,\n              \"d3NiceType\": \"\",\n              \"niceTicks\": 0,\n              \"axisColor\": \"\",\n              \"tickColor\": \"\"\n            },\n            \"y\": {\n              \"hideGrid\": false,\n              \"axisLabel\": \"\",\n              \"axisColor\": \"\",\n              \"tickColor\": \"\",\n              \"niceTicks\": 6,\n              \"tickFormat\": \"\",\n              \"start\": 0,\n              \"series\": [\n                {\n                  \"color\": \"\",\n                  \"legendLabel\": \"\",\n                  \"tickFormat\": \"\"\n                }\n              ]\n            }\n          };\n        }\n      }\n    },\n    \n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    attached() {\n      this.axisData = this.axisData ? this.axisData : this.__defaultAxisData;\n      this.axisData.x = this.axisData.x ? this.axisData.x : this.__defaultAxisData.x;\n      this.axisData.y = this.axisData.y ? this.axisData.y : this.__defaultAxisData.y;\n\n      if(this.axisData.x.axisColor) {\n        this.customStyle['--x-axis-color'] = this.axisData.x.axisColor;\n      }\n      if(this.axisData.x.tickColor) {\n        this.customStyle['--x-tick-color'] = this.axisData.x.tickColor;\n      }\n      if(this.axisData.y.axisColor) {\n        this.customStyle['--y-axis-color'] = this.axisData.y.axisColor;\n      }\n      if(this.axisData.y.tickColor) {\n        this.customStyle['--y-tick-color'] = this.axisData.y.tickColor;\n      }\n      this.updateStyles();\n      \n      this.draw();\n    },\n\n    draw() {\n      let d3 = Px.d3;\n      let me = this;\n      let data = this.data;\n      // set the dimensions and margins of the graph\n      let margin = {top: 20, right: 20, bottom: 30, left: 50},\n          width = this.width - margin.left - margin.right,\n          height = this.height - margin.top - margin.bottom;\n\n      // parse the date / time\n      let parseTime = this.axisData.x.inputDateFormat ?\n        d3.timeParse(this.axisData.x.inputDateFormat) : null;\n\n      // set the ranges\n      let x = d3.scaleTime().range([0, width]);\n      let y = d3.scaleLinear().range([height, 0]).clamp(true);\n          \n      let svg = d3.select(this.$.chart).append(\"svg\")\n          .attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n          .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n        .append(\"g\")\n          .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      \n      data.forEach(function(d) {\n        if(parseTime) {\n          d.x = d.x.getTime ? d.x : parseTime(d.x);\n        }\n        for(let i = 0; i < d.length-1; i++) {\n          let key = \"y\";\n          d[key][i] = d[key][i] ? (+d[key][i]) : 0;\n        }\n      });\n\n      let today = this.today ? parseTime(this.today) : null;\n      \n      let yMax = d3.max(data, function(d) {\n        return d.y.reduce((a,b) => {\n          return Math.max(a,b); \n        })\n      });\n      let yMin = this.axisData.y.start > 0 ? this.axisData.y.start : 0;\n\n      x.domain(d3.extent(data, function(d) { return d.x; }));\n      if(parseTime) {\n        x.nice(d3[this.axisData.x.d3NiceType || \"timeDay\"]);\n      } else if(this.axisData.x.niceTicks) {\n        x.nice(this.axisData.x.niceTicks);\n      } else {\n        x.nice();\n      }\n      y.domain([yMin, yMax]);\n      if(this.axisData.y.niceTicks) {\n        y.nice(this.axisData.y.niceTicks);\n      }\n      \n      let yScaledMin = y(y.domain()[0]);\n\n      var toolTip = d3.tip(d3.select(this.$.chart))\n        .attr(\"class\", \"d3-tip\")\n        .offset([-8, 0])\n        .html(function(d) {\n          return d.msg;\n        });\n\n      svg.call(toolTip);\n\n      this.axisData.y.series.forEach((_series, idx) => {\n        svg.selectAll(\".dot\")\n          .data(data)\n          .enter()\n            .append(\"circle\")\n            .attr(\"r\", 2)\n            .attr(\"cx\", (d, i) => x(d.x))\n            .attr(\"cy\", (d) => y(d.y[idx]))\n            .attr(\"fill\", _series.color || \"steelblue\")\n            .attr(\"class\", \"series-circle-\"+idx)\n            .on('mouseover', function(d, i) {\n              d3.select(this)\n                .attr('r', 5);\n              let prefix = _series.label ? _series.label + \": \" : \"\";\n              d.msg = prefix + d.y[idx];\n              toolTip.show(d);\n            })\n            .on('mouseout', function(d) {\n              d3.select(this)\n                .attr('r', 2);\n              toolTip.hide(d);\n            });\n      });\n\n      // Add the X Axis\n      let _xAxis = d3.axisBottom(x);\n      if(parseTime && this.axisData.x.tickTimeFormat) {\n        _xAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n      }\n      svg.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + height + \")\")\n          .attr(\"class\", \"x-axis\")\n          .call(_xAxis);\n\n      // Add the Y Axis\n      svg.append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(d3.axisLeft(y).ticks(this.axisData.y.niceTicks || 6));\n\n      if(this.showTodayLine) {\n        svg.append(\"svg:line\")\n          .attr(\"class\", \"today\")\n          .attr(\"x1\", x(today))\n          .attr(\"y1\", height+18)\n          .attr(\"x2\", x(today))\n          .attr(\"y2\", -7);\n\n        if(this.historicalLabel) {\n          svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", (x(x.domain()[0]) + x(today))/2)\n            .attr(\"y\", -9)\n            .text(this.historicalLabel);\n        }\n        \n        if(this.todayLabel) {\n          svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", x(today)-10)\n            .attr(\"y\", -9)\n            .text(this.todayLabel);\n        }\n        \n        if(this.forecastLabel) {\n          svg.append(\"text\")\n          .attr(\"class\", \"today-text\")\n          .attr(\"x\", (x(x.domain()[1]) * 0.8))\n          .attr(\"y\", -9)\n          .text(this.forecastLabel);\n        }\n      }\n\n      if(!this.axisData.x.hideGrid) {\n        svg.append(\"g\")\t\t\t\n        .attr(\"class\", \"grid x-grid\")\n        .call(d3.axisBottom(x)\n            .ticks(this.axisData.x.totalGridLines || 5)\n            .tickSize(height)\n            .tickFormat(\"\"));\n      }\n          \n      if(!this.axisData.y.hideGrid) {\n        svg.append(\"g\")\t\t\t\n        .attr(\"class\", \"grid y-grid\")\n        .call(d3.axisLeft(y)\n            .ticks(this.axisData.y.totalGridLines || 5)\n            .tickSize(-width)\n            .tickFormat(\"\"));\n      }\n\n      if(this.axisData.y.axisLabel) {\n        svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - margin.left)\n          .attr(\"x\",0 - (height / 2))\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"y-axis-label\")\n          .text(this.axisData.y.axisLabel);\n      }\n\n      if(this.axisData.x.axisLabel) {\n        svg.append(\"text\")\n          .attr(\"y\", 0 - (width/2))\n          .attr(\"x\",0 - (margin.bottom))\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"x-axis-label\")\n          .text(this.axisData.x.axisLabel);\n      }\n\n      this.fire(\"chart-drawn\", {});\n    },\n\n    _redraw(newData, oldData) {\n\t\t\tif(oldData && oldData.length) {\n\t\t\t\tPolymer.dom(this.$.chart).node.innerHTML = \"\";\n\t\t\t\tthis.draw();\n\t\t\t}\n    },\n    \n    _toggleSeries(event) {\n      const label = \"series-circle-\" + event.model.get(\"idx\");\n      \n      this[label] = !this[label];\n\t\t\tif(this[label]) {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n    }\n  });\n})();\n"]}