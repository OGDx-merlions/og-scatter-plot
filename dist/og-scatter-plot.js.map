{"version":3,"sources":["og-scatter-plot.es6.js"],"names":["Polymer","is","properties","width","type","Number","value","height","margin","Object","notify","top","right","bottom","left","observer","data","Array","showTodayLine","Boolean","today","String","todayLabel","historicalLabel","forecastLabel","axisData","legendAlignment","_legendValues","_defaultLegendValues","__defaultAxisData","ready","scopeSubtree","$","chart","attached","_setupDefaults","length","draw","d3","Px","x","_massageData","_prepareChartingArea","_prepareAxes","_drawGridLines","_drawTimelineSeparators","_drawChart","_drawAxes","_drawTooltip","fire","y","axisColor","customStyle","tickColor","updateStyles","parseTime","inputDateFormat","timeParse","forEach","d","getTime","i","key","adjustedWidth","adjustedHeight","select","remove","svg","append","attr","toolTip","tip","offset","html","msg","call","scaleTime","range","scaleLinear","clamp","todayAsDate","yMax","max","reduce","a","b","Math","yMin","start","domain","extent","d3NiceType","Function","nice","niceTicks","yScaledMin","hideGrid","axisBottom","tickSize","tickFormat","axisLeft","ticks","totalGridLines","text","series","_series","idx","filteredData","filter","_datum","xStart","xEnd","result","scaledXStart","scaledXEnd","radius","isLineChart","line","interpolation","curve","style","color","dashArray","selectAll","enter","on","prefix","label","show","hide","scope","me","bisectDate","bisector","updateLegendVal","set","_","_val","push","unit","revertLegendValToToday","m","node","getScreenCTM","mouse","createSVGPoint","event","clientX","clientY","matrixTransform","inverse","mouseX","mouseY","mouseDate","invert","d0","d1","_xAxis","tickTimeFormat","timeFormat","format","_yAxis","axisLabel","_redraw","newData","oldData","_getLegendValues","get","_isEqual","val1","val2","_toggleSeries","model","querySelectorAll","elt","display"],"mappings":"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","file":"og-scatter-plot.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-scatter-plot',\n\n    properties: {\n      /**\n      * Width of the Chart.\n      *\n      * @property width\n      */\n      width: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 960\n      },\n      /**\n      * Height of the Chart.\n      *\n      * @property height\n      */\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tvalue: 300\n      },\n      /**\n      * Chart Margin.\n        Default: {top: 30, right: 20, bottom: 40, left: 50}\n      *\n      * @property margin\n      */\n\t\t\tmargin: {\n\t\t\t\ttype: Object,\n\t\t\t\tnotify: true,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn {top: 30, right: 20, bottom: 40, left: 50};\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n\t\t\t},\n      /**\n      * Chart Data\n      * Format: [{x: Number, y: [y0, y1, y2, y3...]}]\n      * @property data\n      */\n      data: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n\t\t\t\tobserver: '_redraw'\n      },\n      /**\n       * Show Today Line and subsequently, Historical and Forecast Labels\n       *\n       * @property showTodayLine\n       */\n      showTodayLine: {\n        type: Boolean,\n        value: true\n      },\n      /**\n       * The X-axis point which should be considered as today\n       *\n       * @property today\n       */\n      today: {\n        type: String\n      },\n      /**\n       * Today Label\n       *\n       * @property todayLabel\n       */\n      todayLabel: {\n        type: String,\n        value: \"Today\"\n      },\n      /**\n       * Historical Label\n       *\n       * @property historicalLabel\n       */\n      historicalLabel: {\n        type: String,\n        value: \"Historical\"\n      },\n      /**\n       * Forecast Label\n       *\n       * @property forecastLabel\n       */\n      forecastLabel: {\n        type: String,\n        value: \"Forecast\"\n      },\n      /**\n       * Forecast Label\n       *\n       * @property axisData\n       */\n      axisData: {\n        type: Object,\n        notify: true,\n        observer: '_redraw'\n      },\n      /**\n       * Legend Alignment\n       * Eg: right, left, center\n       *\n       * @property legendAlignment\n       */\n      legendAlignment: {\n        type: String,\n        value: \"right\"\n      },\n      _legendValues: {\n        type: Array,\n        value() {\n          return [];\n        }\n      },\n      _defaultLegendValues: {\n        type: Array,\n        value() {\n          return [];\n        }\n      }\n    },\n\n    __defaultAxisData: {\n          \"x\": {\n            \"color\": \"\",\n            \"axisLabel\": \"\",\n            \"legendLabel\": \"\",\n            \"inputDateFormat\": \"\",\n            \"tickFormat\": \"\",\n            \"tickTimeFormat\": \"\",\n            \"hideGrid\": false,\n            \"d3NiceType\": \"\",\n            \"niceTicks\": 0,\n            \"axisColor\": \"\",\n            \"tickColor\": \"\"\n          },\n          \"y\": {\n            \"hideGrid\": false,\n            \"axisLabel\": \"\",\n            \"axisColor\": \"\",\n            \"tickColor\": \"\",\n            \"niceTicks\": 6,\n            \"tickFormat\": \"\",\n            \"start\": 0,\n            \"series\": [\n              {\n                \"color\": \"\",\n                \"dashArray\": \"\",\n                \"radius\": 2,\n                \"legendLabel\": \"\",\n                \"tickFormat\": \"\",\n                \"type\": \"\",\n                \"interpolation\": \"\",\n                \"xStart\": \"\",\n                \"xEnd\": \"\"\n              }\n            ]\n          }\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    attached() {\n      this._setupDefaults();\n      if(this.data && this.data.length && this.axisData) {\n        this.draw();\n      }\n    },\n\n    draw() {\n      let d3 = Px.d3, data = this.data;\n      if(!data || data.length === 0 || !this.axisData || !this.axisData.x) {return;}\n      data = this._massageData(data);\n      this._prepareChartingArea();\n      this._prepareAxes(data);\n      this._drawGridLines(data);\n      this._drawTimelineSeparators(data);\n      this._drawChart(data);\n      this._drawAxes(data);\n      this._drawTooltip(data, this);\n\n      this.fire(\"chart-drawn\", {});\n    },\n    \n    _setupDefaults() {\n      this.axisData = this.axisData ? this.axisData : this.__defaultAxisData;\n      this.axisData.x = this.axisData.x ? this.axisData.x : this.__defaultAxisData.x;\n      this.axisData.y = this.axisData.y ? this.axisData.y : this.__defaultAxisData.y;\n\n      if(this.axisData.x.axisColor) {\n        this.customStyle['--x-axis-color'] = this.axisData.x.axisColor;\n      }\n      if(this.axisData.x.tickColor) {\n        this.customStyle['--x-tick-color'] = this.axisData.x.tickColor;\n      }\n      if(this.axisData.y.axisColor) {\n        this.customStyle['--y-axis-color'] = this.axisData.y.axisColor;\n      }\n      if(this.axisData.y.tickColor) {\n        this.customStyle['--y-tick-color'] = this.axisData.y.tickColor;\n      }\n      this.updateStyles();\n    },\n\n    _massageData(data) {\n      let d3 = Px.d3;\n      // parse the date / time\n      this.parseTime = this.axisData.x.inputDateFormat ?\n        d3.timeParse(this.axisData.x.inputDateFormat) : null;\n\n      data.forEach((d) => {\n        if(this.parseTime) {\n          d.x = d.x.getTime ? d.x : this.parseTime(d.x);\n        }\n        for(let i = 0; i < d.length-1; i++) {\n          let key = \"y\";\n          d[key][i] = d[key][i] ? (+d[key][i]) : 0;\n        }\n      });\n      return data;\n    },\n    _prepareChartingArea() {\n      let d3 = Px.d3;\n      // set the dimensions and margins of the graph\n      this.margin = this.margin || {top: 30, right: 20, bottom: 40, left: 50},\n      this.adjustedWidth = this.width - this.margin.left - this.margin.right,\n      this.adjustedHeight = this.height - this.margin.top - this.margin.bottom;\n\n      d3.select(this.$.chart).select(\"svg\").remove();\n      this.svg = d3.select(this.$.chart).append(\"svg\")\n          .attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n          .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n        .append(\"g\")\n          .attr(\"transform\",\n                \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\n      this.toolTip = d3.tip(d3.select(this.$.chart))\n        .attr(\"class\", \"d3-tip\")\n        .offset([-8, 0])\n        .html(function(d) {\n          return d.msg;\n        });\n\n      this.svg.call(this.toolTip);\n    },\n    _prepareAxes(data) {\n      // set the ranges\n      let d3 = Px.d3;\n      if(this.parseTime) {\n        this.x= d3.scaleTime().range([0, this.adjustedWidth]);\n      } else {\n        this.x= d3.scaleLinear().range([0, this.adjustedWidth]);\n      }\n      this.y = d3.scaleLinear().range([this.adjustedHeight, 0]).clamp(true);\n\n      let x = this.x, y = this.y;\n      this.todayAsDate = this.today && this.parseTime ? this.parseTime(this.today) : null;\n\n      let yMax = d3.max(data, function(d) {\n        return d.y.reduce((a,b) => {\n          return Math.max(a,b);\n        })\n      });\n      let yMin = this.axisData.y.start > 0 ? this.axisData.y.start : 0;\n\n      x.domain(d3.extent(data, function(d) { return d.x; }));\n      if(this.axisData.x.d3NiceType instanceof Function) {\n        x.nice(this.axisData.x.d3NiceType());\n      } else if(this.parseTime) {\n        x.nice(d3[this.axisData.x.d3NiceType || \"timeDay\"]);\n      } else if(this.axisData.x.niceTicks) {\n        x.nice(this.axisData.x.niceTicks);\n      } else {\n        x.nice();\n      }\n      y.domain([yMin, yMax]);\n      if(this.axisData.y.niceTicks) {\n        y.nice(this.axisData.y.niceTicks);\n      }\n    },\n    _drawGridLines(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      let yScaledMin = y(y.domain()[0]);\n      if(!this.axisData.x.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid x-grid\")\n          .call(d3.axisBottom(x)\n              // .ticks(this.axisData.x.totalGridLines || 10)\n              .tickSize(this.adjustedHeight)\n              .tickFormat(\"\"));\n      }\n\n      if(!this.axisData.y.hideGrid) {\n        this.svg.append(\"g\")\n          .attr(\"class\", \"grid y-grid\")\n          .call(d3.axisLeft(y)\n              .ticks(this.axisData.y.totalGridLines || 5)\n              .tickSize(-this.adjustedWidth)\n              .tickFormat(\"\"));\n      }\n    },\n    _drawTimelineSeparators(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      if(this.showTodayLine) {\n        this.svg.append(\"svg:line\")\n          .attr(\"class\", \"today\")\n          .attr(\"x1\", x(this.todayAsDate))\n          .attr(\"y1\", this.adjustedHeight+18)\n          .attr(\"x2\", x(this.todayAsDate))\n          .attr(\"y2\", -7);\n\n        if(this.historicalLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", (x(x.domain()[0]) + x(this.todayAsDate))/2)\n            .attr(\"y\", -9)\n            .text(this.historicalLabel);\n        }\n\n        if(this.todayLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", x(this.todayAsDate)-10)\n            .attr(\"y\", -9)\n            .text(this.todayLabel);\n        }\n\n        if(this.forecastLabel) {\n          this.svg.append(\"text\")\n            .attr(\"class\", \"today-text\")\n            .attr(\"x\", (x(x.domain()[1]) * 0.8))\n            .attr(\"y\", -9)\n            .text(this.forecastLabel);\n        }\n      }\n    },\n    _drawChart(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n      this.axisData.y.series.forEach((_series, idx) => {\n        let filteredData = data.filter((_datum) => {\n          if(!_series.xStart && !_series.xEnd) {\n            return true;\n          }\n          let result = true;\n          if(_series.xStart) {\n            let scaledXStart = this.parseTime ? this.parseTime(_series.xStart) : +_series.xStart;\n            result = x(_datum.x) >= x(scaledXStart);\n          }\n          if(result && _series.xEnd) {\n            let scaledXEnd = this.parseTime ? this.parseTime(_series.xEnd) : +_series.xEnd;\n            return x(_datum.x) <= x(scaledXEnd);\n          }\n          return result;\n        });\n\n\n        if(this.axisData.y.series[idx].radius !== 0) {\n          _series.radius = this.axisData.y.series[idx].radius || 2;\n        }\n        const isLineChart = this.axisData.y.series[idx].type === \"line\";\n\n        if(isLineChart) {\n          let line = d3.line()\n            .x(function(d) { return x(d.x); })\n            .y(function(d) { return y(d.y[idx]); });\n\n          if(this.axisData.y.series[idx].interpolation) {\n            line.curve(d3[this.axisData.y.series[idx].interpolation]);\n          }\n\n          this.svg.append(\"path\")\n            .data([filteredData])\n            .attr(\"class\", \"series-circle-\"+idx)\n            .style(\"stroke\", _series.color || \"steelblue\")\n\t\t\t\t\t\t.style(\"stroke-dasharray\", _series.dashArray || \"0,0\")\n            .attr(\"fill\", \"transparent\")\n            .attr(\"d\", line)\n            .style(\"pointer-events\", \"none\");\n        }\n\n        this.svg.selectAll(\".dot\")\n          .data(filteredData)\n          .enter()\n            .append(\"circle\")\n            .attr(\"r\", _series.radius)\n            .attr(\"cx\", (d, i) => x(d.x))\n            .attr(\"cy\", (d) => y(d.y[idx]))\n            .attr(\"fill\", _series.color || \"steelblue\")\n            .attr(\"class\", \"series-circle-\"+idx)\n            .on('mouseover', (d, i) => {\n              d3.select(this)\n                .attr('r', _series.radius + 2);\n              let prefix = _series.label ? _series.label + \": \" : \"\";\n              d.msg = prefix + d.y[idx];\n              this.toolTip.show(d);\n            })\n            .on('mouseout', (d) => {\n              d3.select(this)\n                .attr('r', _series.radius);\n              this.toolTip.hide(d);\n            });\n      });\n    },\n\t\t_drawTooltip(data, scope) {\n      let x= this.x, y=this.y, me = scope, d3 = Px.d3,\n        bisectDate = d3.bisector(function(d) { return d.x; }).left;\n\t\t\tthis.updateLegendVal = (d) => {\n        me.set('_legendValues', []);\n\t\t\t\td.y.forEach((_, idx) => {\n          let _val = d.y[idx];\n          me.push('_legendValues', `${_val} ${(me.axisData.y.unit || \"\")}`);\n        })\n\t\t\t};\n\t\t\tthis.revertLegendValToToday = () => {\n        me.set('_legendValues', []);\n\t\t\t};\n\t\t\tthis.svg.append('rect')\n\t\t\t\t.attr('class', 'overlay')\n\t\t\t\t.attr('width', this.adjustedWidth)\n\t\t\t\t.attr('height', this.adjustedHeight)\n\t\t\t\t.on('mouseover', () => { \n\t\t\t\t})\n\t\t\t\t.on('mouseout', () => {\n\t\t\t\t\tthis.revertLegendValToToday();\n\t\t\t\t})\n\t\t\t\t.on('mousemove', () => {\n\t\t\t\t\tlet m = d3.select(this.$.chart).select('rect.overlay').node().getScreenCTM();\n\t\t\t\t\tlet mouse = d3.select(this.$.chart).select('#chart svg').node().createSVGPoint(); \n\t\t\t\t\tmouse.x = d3.event.clientX;\n\t\t\t\t\tmouse.y = d3.event.clientY;\n\t\t\t\t\tmouse = mouse.matrixTransform(m.inverse());\n\t\t\t\t\tconst [mouseX, mouseY] = [mouse.x, mouse.y];\n\t\t\t\t\tlet mouseDate = x.invert(mouseX);\n\t\t\t\t\tlet i = bisectDate(data, mouseDate);\n\n\t\t\t\t\tlet d0 = data[i - 1] || data[0];\n\t\t\t\t\tlet d1 = data[i];\n\t\t\t\t\tlet d = d0 && d1 && (mouseDate - d0.x > d1.x - mouseDate) ? d1 : d0;\n\t\t\t\t\tthis.updateLegendVal(d);\n\t\t\t\t});\n\t\t\t\n\t\t},\n    _drawAxes(data) {\n      let x = this.x, y = this.y, d3 = Px.d3;\n\n      // Add the X Axis\n      let _xAxis = d3.axisBottom(x);\n      if(this.parseTime && this.axisData.x.tickTimeFormat) {\n        _xAxis.tickFormat(d3.timeFormat(this.axisData.x.tickTimeFormat));\n      } else if(this.axisData.x.tickFormat) {\n        _xAxis.tickFormat(d3.format(this.axisData.x.tickFormat));\n      }\n      if(this.axisData.x.niceTicks) {\n        _xAxis.ticks(this.axisData.x.niceTicks);\n      }\n      this.svg.append(\"g\")\n          .attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n          .attr(\"class\", \"x-axis\")\n          .call(_xAxis);\n\n      // Add the Y Axis\n      let _yAxis = d3.axisLeft(y).ticks(this.axisData.y.niceTicks || 6);\n      if(this.axisData.y.tickFormat) {\n        _yAxis.tickFormat(d3.format(this.axisData.y.tickFormat));\n      }\n      this.svg.append(\"g\")\n          .attr(\"class\", \"y-axis\")\n          .call(_yAxis);\n\n      if(this.axisData.y.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - this.margin.left)\n          .attr(\"x\",0 - (this.adjustedHeight / 2))\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"y-axis-label\")\n          .text(this.axisData.y.axisLabel);\n      }\n\n      if(this.axisData.x.axisLabel) {\n        this.svg.append(\"text\")\n          .attr(\"dy\", \"1em\")\n          .attr(\"class\", \"x-axis-label\")\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"transform\", \"translate(\"+ \n            (this.adjustedWidth/2) +\",\"+(this.adjustedHeight + this.margin.top)+\")\")\n          .text(this.axisData.x.axisLabel);\n      }\n    },\n\n    _redraw(newData, oldData) {\n      Px.d3.select(this.$.chart).select(\"svg\").remove();\n      this.draw();\n    },\n\n    _getLegendValues(idx) {\n      return this.get('_legendValues')[idx];\n    },\n\n    _isEqual(val1, val2) {\n      return val1 === val2;\n    },\n\n    _toggleSeries(event) {\n      const label = \"series-circle-\" + event.model.get(\"idx\");\n\n      this[label] = !this[label];\n\t\t\tif(this[label]) {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"none\";\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.querySelectorAll(\".\"+label).forEach((elt) => {\n\t\t\t\t\telt.style.display = \"block\";\n\t\t\t\t});\n\t\t\t}\n    }\n  });\n})();\n"]}